{"ast":null,"code":"import _slicedToArray from\"/Users/bhawesh/Desktop/01-starting-setup/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useNavigate}from'react-router-dom';import{useState,useEffect}from\"react\";import M from'materialize-css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(){var history=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),url=_useState10[0],setUrl=_useState10[1];useEffect(function(){if(url){uploadFields();}},[url]);var uploadPic=function uploadPic(){console.log('Upload Pic');console.log(url);var data=new FormData();data.append('file',image);data.append('upload_preset','upload');data.append('cloud_name','ddlgib7yw');fetch(\"https://api.cloudinary.com/v1_1/ddlgib7yw/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(data){console.log(\"URL Uploaded\");console.log(data.url);setUrl(data.url);}).catch(function(err){console.log(err);});};var uploadFields=function uploadFields(){if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){M.toast({html:\"invalid email\",classes:\"#c62828 red darken-3\"});return;}console.log('Upload Field');console.log(url);fetch(\"/signup\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,password:password,email:email,pic:url})}).then(function(res){return res.json();}).then(function(data){if(data.error){M.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{M.toast({html:data.message,classes:\"#43a047 green darken-1\"});history.push('/signin');}}).catch(function(err){console.log(err);});};var PostData=function PostData(){if(image){console.log(\"Image\");console.log(image);uploadPic();}else{uploadFields();}// if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\n// {\n//     M.toast({html:\"Invalid Email\",classes:\"#e53935 red darken-1\"})\n//     return;\n// }\n// setTimeout( ()=> {\n//     console.log('Post Data');\n//     console.log(url);\n//     fetch('/signup',{\n//         method:\"post\",\n//         headers:{\n//             \"Content-Type\":\"application/json\"\n//         },\n//         body:JSON.stringify({\n//             name,\n//             email,\n//             password,\n//             pic: url\n//         })\n//     }).then(res=>res.json())\n//     .then(data=>{\n//        if(data.error)\n//        {\n//         M.toast({html: data.error,classes:\"#e53935 red darken-1\"})\n//        }\n//        else{\n//         M.toast({html: data.message,classes:\"#4caf50 green\"})\n//         history('/Signin')\n//        } \n//     }).catch(err=>{\n//         console.log(err);\n//     })\n// }, 3000  );\n};return/*#__PURE__*/_jsx(\"div\",{className:\"mycard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"name\",value:name,onChange:function onChange(e){setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"email\",value:email,onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-field input-field\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Upload Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){setImage(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{className:\"file-path validate\",type:\"text\"})})]}),/*#__PURE__*/_jsx(\"button\",{class:\"btn waves-effect waves-light\",onClick:PostData,children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(Link,{to:\"/Signin\",children:\"Already have an account ?\"})})]})});};export default SignUp;","map":{"version":3,"sources":["/Users/bhawesh/Desktop/01-starting-setup/src/components/screens/SignUp.js"],"names":["Link","useNavigate","useState","useEffect","M","SignUp","history","name","setName","email","setEmail","password","setPassword","image","setImage","undefined","url","setUrl","uploadFields","uploadPic","console","log","data","FormData","append","fetch","method","body","then","res","json","catch","err","test","toast","html","classes","headers","JSON","stringify","pic","error","message","push","PostData","e","target","value","files"],"mappings":"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","sourcesContent":["import {Link,useNavigate} from 'react-router-dom'\nimport {useState,useEffect} from \"react\"\nimport M from 'materialize-css'\nconst SignUp = ()=>{\n     const history = useNavigate()\n    const [name,setName] = useState('')\n    const [email,setEmail] = useState('')\n    const [password,setPassword] = useState('')\n    const [image,setImage] = useState('')\n    const [url,setUrl] = useState(undefined)\n    useEffect(()=>{\n        if(url){\n            uploadFields()\n        }\n    },[url])\n    const uploadPic =()=>{\n        console.log('Upload Pic');\n        console.log(url);\n        \n        const data = new FormData()\n        data.append('file',image)\n        data.append('upload_preset','upload')\n        data.append('cloud_name','ddlgib7yw')\n        fetch(\"https://api.cloudinary.com/v1_1/ddlgib7yw/image/upload\",{\n            method:\"post\",\n            body:data\n        })\n        .then(res=>res.json())\n        .then(data=>{\n            console.log(\"URL Uploaded\");\n            console.log(data.url);\n            \n           setUrl(data.url)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }    \n    const uploadFields = ()=>{\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n            M.toast({html: \"invalid email\",classes:\"#c62828 red darken-3\"})\n            return\n        }\n        console.log('Upload Field');\n        console.log(url);\n        \n        fetch(\"/signup\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\"\n            },\n            body:JSON.stringify({\n                name,\n                password,\n                email,\n                pic:url\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n           if(data.error){\n              M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\n           }\n           else{\n               M.toast({html:data.message,classes:\"#43a047 green darken-1\"})\n               history.push('/signin')\n           }\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n    const PostData = ()=>{\n        if(image){\n            console.log(\"Image\");\n            console.log(image);\n            uploadPic()\n\n        }else{\n            uploadFields()\n        }\n        \n        // if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\n        // {\n        //     M.toast({html:\"Invalid Email\",classes:\"#e53935 red darken-1\"})\n        //     return;\n        // }\n        // setTimeout( ()=> {\n        //     console.log('Post Data');\n        //     console.log(url);\n        //     fetch('/signup',{\n        //         method:\"post\",\n        //         headers:{\n        //             \"Content-Type\":\"application/json\"\n        //         },\n        //         body:JSON.stringify({\n        //             name,\n        //             email,\n        //             password,\n        //             pic: url\n        //         })\n    \n        //     }).then(res=>res.json())\n        //     .then(data=>{\n        //        if(data.error)\n        //        {\n        //         M.toast({html: data.error,classes:\"#e53935 red darken-1\"})\n        //        }\n        //        else{\n        //         M.toast({html: data.message,classes:\"#4caf50 green\"})\n        //         history('/Signin')\n               \n        //        } \n        //     }).catch(err=>{\n        //         console.log(err);\n        //     })\n        // }, 3000  );\n\n        \n    }\n    return (\n      <div className=\"mycard\">\n          <div className=\"card auth-card\">\n              <h2>Upload</h2>\n              <input type=\"text\" placeholder=\"name\" value={name} onChange={(e)=>{setName(e.target.value)}}></input>\n              <input type=\"text\" placeholder=\"email\" value={email} onChange={(e)=>{setEmail(e.target.value)}}>\n              </input>\n              <input type=\"password\" placeholder=\"password\" value={password} onChange={(e)=>{setPassword(e.target.value)}}>\n              </input>\n              <div className=\"file-field input-field\">\n      <div className=\"btn\">\n        <span>Upload Image</span>\n        <input type=\"file\" onChange={e=>{setImage(e.target.files[0])}} />\n      </div>\n      <div className=\"file-path-wrapper\">\n        <input className=\"file-path validate\" type=\"text\" />\n      </div>\n    </div>\n              <button class=\"btn waves-effect waves-light\" onClick={PostData}>Sign Up\n  \n  </button>\n  <h5><Link to=\"/Signin\">Already have an account ?</Link></h5>\n        \n\n          </div>\n      </div>\n    )\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}